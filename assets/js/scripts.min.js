"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,c,i=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var _this=void 0;document.addEventListener("DOMContentLoaded",function(){function e(){n.forEach(function(e){var t=parseInt(e.querySelector(".card__price").textContent.replace(/\s+/g,"").replace("р",""),10),r=e.dataset.gender,n=e.dataset.size,o=t>=s.startPrice&&t<=s.endPrice,a=!s.gender||r===s.gender,c=!s.size.length||s.size.some(function(e){return n.includes(e)});e.classList.toggle("hidden",!(o&&c&&a))})}var t=document.querySelector('button[data-button="apply"]'),r=document.querySelector('button[data-button="clear"]'),n=document.querySelectorAll(".catalog__list .card"),o=document.querySelectorAll('input[name="gender"]'),a=document.querySelectorAll(".catalog__size"),c=document.querySelectorAll(".card__image-buy"),i=[],s={size:"",gender:"",startPrice:"",endPrice:""},l=document.getElementById("range-slider");noUiSlider.create(l,{start:[1e4,25e3],range:{min:3e3,max:4e4},format:{to:function(e){return Math.round(e)},from:function(e){return Number(e)}}});var d=[document.getElementById("range-start"),document.getElementById("range-end")],u=[3e3,4e4];l.noUiSlider.on("update",function(e,t){d[t].innerHTML=e[t],u=e.map(Number),s.startPrice=u[0],s.endPrice=u[1],console.log(s)});var m=document.querySelector(".formBtn");m.addEventListener("click",function(){document.querySelector(".send").classList.remove("hidden"),m.disabled=!0});var y=document.querySelectorAll(".js-accordion-item");console.log(y),y.forEach(function(e){var t=e.querySelector(".js-accordion-body");t.style.height="0px",e.querySelector(".js-accordion-header").addEventListener("click",function(){console.log(_this);var r=e.classList.contains("is-active");if(y.forEach(function(e){e.classList.remove("is-active"),e.querySelector(".js-accordion-body").style.height="0px"}),!r){e.classList.add("is-active"),t.style.display="block";var n=t.scrollHeight;console.log(n),t.style.height="0px",t.style.height="".concat(n,"px")}})});var f=document.querySelectorAll(".next"),v=document.querySelectorAll(".form__wrap"),h=1;f.forEach(function(e){e.addEventListener("click",function(){var e=document.querySelector('.form__wrap[data-screen="'.concat(h,'"]')),t=h+1,r=document.querySelector('.form__wrap[data-screen="'.concat(t,'"]'));r&&(e.classList.add("hidden"),r.classList.remove("hidden"),document.getElementById("current").textContent=t,h=t),4===t&&(e.classList.add("hidden"),v.forEach(function(e,t){t===v.length-1&&e.classList.remove("hidden")}))})}),o.forEach(function(e){e.addEventListener("click",function(){var t=e.getAttribute("data-input-gender");s.gender=t})}),a.forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.inputSize;if(e.classList.contains("active")){e.classList.remove("active");var r=i.indexOf(t);r>-1&&(i.splice(r,1),s.size=i)}else{if(i.length>=3){var n=i.shift();document.querySelector('.catalog__size[data-input-size="'.concat(n,'"]')).classList.remove("active")}e.classList.add("active"),i.push(t),s.size=i}})}),t.addEventListener("click",e),r.addEventListener("click",function(){Object.keys(s).forEach(function(e){"endPrice"!==e&&"startPrice"!==e&&(s[e]="",console.log(s))}),o.forEach(function(e){e.checked=!1}),a.forEach(function(e){e.classList.remove("active")}),n.forEach(function(e){e.classList.remove("hidden")})});var g={force:{fullName:"Женские кроссовки Puma Force 1 Shadow",rating:5,sizes:[35,36,37,38],description:"Кроссовки Nike Blazer Mid 77 Vintage Suede с винтажной подошвой возрождают стиль баскетбольных моделей Nike прошлого, создавая впечатление, что они хранились в шкафу долгие годы.",character:{gender:"Пол: Мужской",colors:"Разноцветный",stotav:"Кожа, текстиль, резина",contry:"Вьетнам"}},force2:{fullName:"Женские/Мужские кроссовки Puma Force 5 Shadow",rating:3,sizes:[39,40,41,42,43],description:"Кроссовки Nike Blazer Mid 77 Vintage Suede с винтажной подошвой возрождают стиль баскетбольных моделей Nike прошлого, создавая впечатление, что они хранились в шкафу долгие годы.",character:{gender:"Пол: Мужской, Женский",colors:"Разноцветный",stotav:"Кожа, текстиль",contry:"Китай"}}};document.addEventListener("click",function(e){var t=e.target.closest(".js-modal-open");if(t){e.preventDefault();var r=t.dataset.modal,n=document.querySelector('.js-modal[data-modal="'.concat(r,'"]'));if("view__item"==r){var o=t.closest(".card"),a=o.dataset.objectName,c=g[a];n.querySelector(".modal__title").textContent=c.fullName,n.querySelector(".modal__description").textContent=c.description,n.querySelector(".modal__rating").textContent=c.rating,n.querySelector('li[data-gender="gender"]').textContent=c.character.gender}n.classList.add("show"),document.querySelector(".js-modal-overlay").classList.add("show")}e.target.closest(".js-modal-close")&&(e.preventDefault(),document.querySelector(".js-modal.show").classList.remove("show"),document.querySelector(".js-modal-overlay").classList.remove("show")),e.target.classList.contains("js-modal-overlay")&&(document.querySelector(".js-modal.show").classList.remove("show"),document.querySelector(".js-modal-overlay").classList.remove("show"))}),c.forEach(function(e){e.addEventListener("click",function(){document.querySelector(".header__cart-count").textContent++})});var p=new Swiper(".mySwiper",{loop:!0,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper2",{loop:!0,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:p}})});